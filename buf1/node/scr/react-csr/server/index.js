"use strict";var e=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var u=e(require("@babel/runtime/regenerator")),i=e(require("@babel/runtime/helpers/asyncToGenerator")),o=e(require("@babel/runtime/helpers/classCallCheck")),a=e(require("@babel/runtime/helpers/createClass")),l=e(require("@babel/runtime/helpers/inherits")),c=e(require("@babel/runtime/helpers/possibleConstructorReturn")),s=e(require("@babel/runtime/helpers/getPrototypeOf")),f=e(require("chalk")),r=e(require("../../../exe/server")),p=require("./server");function h(t){var n=b();return function(){var e,r=(0,s.default)(t);return r=n?(e=(0,s.default)(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),(0,c.default)(this,r)}}function b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var t=function(e){(0,l.default)(n,e);var r,t=h(n);function n(e){return(0,o.default)(this,n),t.call(this,e)}return(0,a.default)(n,[{key:"main",value:(r=(0,i.default)(u.default.mark(function e(){var r,t,n=this;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.project,t=(0,p.createServer)(this.project),e.abrupt("return",new Promise(function(e){n.on("close",function(){t.emit("close"),e()}),t.listen(r.serve.port,function(){console.log("".concat(n.project.name," server listening on ").concat(f.default.blue("http://127.0.0.1:"+n.project.serve.port),"\n"))})}));case 3:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})}]),n}(r.default);exports.default=t;