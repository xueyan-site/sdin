"use strict";var e=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.createServer=t;var r=e(require("koa")),i=e(require("koa-conditional-get")),s=e(require("koa-etag")),u=e(require("koa-compress")),a=e(require("koa-send")),o=require("../common/server");function t(t){var e=new r.default;return e.use((0,i.default)()),e.use((0,s.default)()),e.use((0,u.default)()),e.use((0,o.webError)({project:t,reader:function(e,r){return(0,a.default)(e,r.path,{root:t.webDist,extensions:["html"]})}})),e.use((0,o.webStatic)({prefix:t.path,dist:t.astDist,extensions:["html","json"]})),e.use((0,o.webStatic)({prefix:t.path,dist:t.webDist,index:t.index,extensions:["html","json"]})),e}