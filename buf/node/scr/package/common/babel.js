"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getBabelOptions=t;var i=require("../../../utl/path"),e=require("lodash");function l(n){var s=(0,e.mapValues)(n.alias||{},function(e){return n.withRoot(e)}),o=Object.keys(s);if(!(o.length<=0))return[(0,i.cmdNmPath)("babel-plugin-module-resolver"),{resolvePath:function(e,t){for(var r="",a=0;a<o.length;a++){var l=o[a];if(l[0]===e[0]&&e.startsWith(l)){r=l;break}}return r?(0,i.relativePath)(n.withRoot(e.replace(r,s[r])),t):e}}]}var n={};function t(e,t){var r=e.name+t,a=n[r];return a||(a={presets:[[(0,i.cmdNmPath)("@babel/preset-env"),{modules:"web"!==t&&"cjs"}],e.useReact&&(0,i.cmdNmPath)("@babel/preset-react"),(0,i.cmdNmPath)("@babel/preset-typescript")].filter(Boolean),plugins:[l(e),(0,i.cmdNmPath)("@babel/plugin-transform-runtime")].filter(Boolean)},n[r]=a),a}