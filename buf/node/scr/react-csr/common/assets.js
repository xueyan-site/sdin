"use strict";var e=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.handleAssets=t;var a=e(require("@babel/runtime/regenerator")),r=e(require("@babel/runtime/helpers/asyncToGenerator")),l=e(require("gulp")),s=e(require("gulp-babel")),i=e(require("gulp-clean-css")),n=e(require("gulp-uglify")),p=e(require("gulp-filter")),o=require("../../../utl/exec"),c=require("../../../utl/path");function t(e){return u.apply(this,arguments)}function u(){return(u=(0,r.default)(a.default.mark(function e(r){var t,u;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,p.default)("**/*.js",{restore:!0}),u=(0,p.default)("**/*.css",{restore:!0}),e.abrupt("return",(0,o.pipeline)(l.default.src("**/*",{cwd:r.astPub}),t,(0,s.default)({presets:[(0,c.cmdNmPath)("@babel/preset-env")],plugins:[(0,c.cmdNmPath)("@babel/plugin-transform-runtime"),(0,c.cmdNmPath)("@babel/plugin-proposal-class-properties")]}),(0,n.default)(),t.restore,u,(0,i.default)(),u.restore,l.default.dest(r.astDist)));case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}